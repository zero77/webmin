<header> Виртуальные Домены </header> Необязательная виртуальная таблица определяет перенаправления для локальных и нелокальных получателей или доменов. Перенаправления используются демоном cleanup (8). Перенаправления рекурсивные. <p> Виртуальное перенаправление применяется только к адресу конверта получателя и не влияет на заголовки сообщений. Подумайте, правила Sendmail <tt>S0</tt> , если хотите. Используйте <a href=canonical>каноническое отображение,</a> чтобы переписать адреса заголовка и конверта в целом. <p> Типичная поддержка виртуального домена выглядит следующим образом: <ul><li> <b><tt>virtual.domain</tt></b> сопоставлен с ... <b><tt>anything</tt></b> (правый контент не имеет значения) <li> <b><tt>user1@virtual.domain</tt></b> сопоставлен с ... <b><tt>address1</tt></b> <li> <b><tt>user2@virtual.domain</tt></b> сопоставлен с ... <b><tt>address2, address3</tt></b> </ul> При этом SMTP-сервер принимает почту для <tt>virtual.domain</tt> и отклоняет почту для <tt>unknown@virtual.domain</tt> как недоставленную. <p> Формат виртуальной таблицы следующий: сопоставления пробуются в порядке, указанном здесь: <ul><li> <b><tt>user@domain</tt></b> сопоставлен с ... <b><tt>address, address, ...</tt></b> : почта для <tt>user@domain</tt> перенаправляется на <tt>address</tt> . Эта форма имеет наивысший приоритет. <li> <b><tt>user</tt></b> сопоставлен с ... <b><tt>address, address, ...</tt></b> : почта для <tt>user@site</tt> перенаправляется на <tt>address</tt> когда сайт равен <tt>$myorigin</tt> если сайт указан в <tt>$mydestination</tt> или если он указан в <tt>$inet_interfaces</tt> . Эта функциональность пересекается с функциональностью <a href=aliases>локальной</a> базы данных <a href=aliases>псевдонимов</a> . Разница в том, что виртуальное сопоставление может применяться к нелокальным адресам. <li> <b><tt>@domain</tt></b> сопоставлен с ... <b><tt>address, address, ...</tt></b> : почта для любого пользователя в <tt>domain</tt> перенаправляется на <tt>address</tt> . Эта форма имеет самый низкий приоритет. </ul> Во всех вышеперечисленных формах, когда адрес имеет форму <tt>@otherdomain</tt> , результатом будет тот же пользователь в другом домене. Это работает только для первого адреса в расширении. <p> РАСШИРЕНИЕ АДРЕСА. Когда поиск завершается неудачно, а адрес localpart содержит необязательный разделитель получателя (например, <tt>user+foo@domain</tt> ), поиск повторяется для нерасширенного адреса (например, <tt>user@domain</tt> ), и несогласованное расширение адреса распространяется на результат расширения. Порядок соответствия: <tt>user+foo@domain</tt> , <tt>user@domain</tt> , <tt>user+foo</tt> , <tt>user</tt> и <tt>@domain</tt> . <hr>