<header> Каноническое картографирование </header> Необязательный канонический файл определяет сопоставление адресов для локальных и нелокальных адресов. Отображение используется демоном cleanup (8). Отображение адресов является рекурсивным. <p> Файл служит входом для команды postmap (1). Результат, индексированный файл в формате dbm или db, используется для быстрого поиска в почтовой системе. <p> Каноническое отображение влияет как на адреса заголовков сообщений (т.е. адреса, которые появляются внутри сообщений), так и на адреса конвертов сообщений (например, адреса, которые используются в командах протокола SMTP). Подумайте, набор правил Sendmail <tt>S3</tt> , если хотите. <p> Как правило, можно использовать каноническую таблицу для замены имен входа на <tt>Firstname.Lastname</tt> или для очистки адресов, создаваемых устаревшими почтовыми системами. <p> Каноническое отображение не следует путать с поддержкой виртуальных доменов. Используйте карту <a href=virtual>виртуального домена</a> для этой цели. <p> Каноническое отображение не следует путать с локальным алиасингом. Для этого используйте карту <a href=aliases>псевдонимов почты</a> . <p> Формат канонических сопоставлений следующий: сопоставления пробуются в указанном порядке: <ul><li> <b><tt>user@domain</tt></b> сопоставлен с ... <b><tt>address</tt></b> : <br> <tt>user@domain</tt> заменяется на <tt>address</tt> Эта форма имеет наивысший приоритет. Эта форма полезна для очистки адресов, создаваемых устаревшими почтовыми системами. Его также можно использовать для создания адресов в стиле <tt>Firstname.Lastname</tt> , но см. Ниже более простое решение. <li> <b><tt>user</tt></b> сопоставлен с ... <b><tt>address</tt></b> : <br> <tt>user@site</tt> заменяется адресом, когда site равен <tt>$myorigin</tt> , когда сайт указан в <tt>$mydestination</tt> или когда он указан в <tt>$inet_interfaces</tt> . Эта форма полезна для замены имен входа на <tt>Firstname.Lastname</tt> . <li> <b><tt>@domain</tt></b> сопоставлен с ... <b><tt>address</tt></b> : <br> Каждый адрес в домене заменяется адресом. Эта форма имеет самый низкий приоритет. </ul> Во всех вышеперечисленных формах, когда адрес имеет форму <tt>@otherdomain</tt> , результатом будет тот же пользователь в другом домене. <p> РАСШИРЕНИЕ АДРЕСА. Когда поиск по таблице завершается неудачно, а адрес localpart содержит необязательный разделитель получателя (например, <tt>user+foo@domain</tt> ), поиск повторяется для нерасширенного адреса (например, <tt>user@domain</tt> ), и несопоставленное расширение распространяется на результат поиска в таблице. Порядок соответствия: <tt>user+foo@domain</tt> , <tt>user@domain</tt> , <tt>user+foo</tt> , <tt>user</tt> и <tt>@domain</tt> . <hr>