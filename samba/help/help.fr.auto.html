<body bgcolor=#ffffff><title> Samba Manager </title><center><img src="images/samba.gif"></center><br><h2> <i>Cette page d&#39;aide est incomplète</i> </h2><hr><h3> introduction </h3> Samba est un programme gratuit qui permet aux PC exécutant Windows 95 et NT d&#39;accéder aux fichiers et imprimantes sur votre système Unix, comme s&#39;il s&#39;agissait d&#39;un serveur de fichiers / d&#39;impression Windows. Certains systèmes Unix tels que Redhat Linux incluent Samba dans le cadre de l&#39;installation standard, tandis que la plupart des autres nécessitent que vous le téléchargiez et l&#39;installiez séparément. <p> Si Samba n&#39;est pas installé sur votre système, la page principale du module se plaindra qu&#39;il ne peut pas trouver le fichier de configuration Samba et vous ne pourrez pas partager de fichiers ou de répertoires. Si Samba est installé mais que vous obtenez ce message d&#39;erreur, vérifiez la <a href="/config.cgi?samba">configuration</a> du <a href="/config.cgi?samba">module</a> pour vous assurer que Webmin recherche au bon endroit le fichier de configuration et les programmes Samba. <p> En supposant que Samba est installé correctement, la page principale du module affichera une liste de tous les partages de fichiers et d&#39;imprimantes définis sur votre système. Si Webmin détermine que le serveur Samba n&#39;est pas en cours d&#39;exécution, vous aurez la possibilité d&#39;essayer de démarrer le serveur. Cela peut être nécessaire si Samba n&#39;est pas démarré au démarrage. <p><hr><h3> Création d&#39;un partage de fichiers </h3> Un partage de fichiers Samba est un répertoire qui peut être monté par les PC clients. Chaque partage a un nom court tel que <tt>docs</tt> ou <tt>www</tt> , qui correspond à un répertoire de votre système Unix. Un partage est généralement désigné par un client à l&#39;aide de la notation <tt>\\server\share</tt> . <p> Pour créer un partage, cliquez sur le lien <tt>Create File Share</tt> sous la liste des partages existants sur la page principale. Cela affichera un formulaire vous permettant d&#39;entrer les détails du nouveau partage. Bien que Samba prenne en charge un grand nombre de paramètres pour chaque partage, les plus importants sont: <p><table border width=100%><tr><td> <b>Nom de partage</b> </td><td> Chaque partage doit avoir un nom, utilisé par les clients pour s&#39;y référer. Un cas particulier est le partage de <tt>All home directories</tt> , expliqué plus loin. </td></tr><tr><td> <b>Chemin</b> </td><td> Le répertoire à partager. Les clients utilisant ce partage ne peuvent accéder qu&#39;aux fichiers situés dans ou en dessous de ce répertoire. </td></tr><tr><td> <b>Inscriptible</b> </td><td> Détermine si les clients peuvent écrire dans des fichiers et des répertoires de ce partage. </td></tr><tr><td> <b>Accès invité</b> </td><td> Si un partage autorise les utilisateurs invités, les clients peuvent y accéder sans avoir à fournir un nom et un mot de passe valides. Un partage peut soit interdire les utilisateurs invités, autoriser les invités et les utilisateurs normaux, soit autoriser uniquement les invités. </td></tr></table> Pour plus d&#39;informations sur les autres options de partage, consultez la section <b>Options avancées</b> ci-dessous. <p> Une fois que vous avez entré les détails d&#39;un nouveau partage et cliqué sur le bouton <tt>Create</tt> , il sera immédiatement disponible pour les PC clients. En supposant que tout est correctement configuré sur votre réseau, les utilisateurs pourront utiliser la fonction <tt>Network Neighbourhood</tt> sous Windows pour voir votre serveur et tous ses partages. Le partage nouvellement créé peut ensuite être mappé sur une lettre de lecteur sur le PC. <p><hr><h3> Création d&#39;un partage d&#39;imprimante </h3> Un partage d&#39;imprimante Samba est une imprimante Unix locale ou distante que vous souhaitez mettre à la disposition des clients PC. Comme les partages de fichiers, chaque partage d&#39;imprimante a un nom court (comme <tt>hp5si</tt> ) et est référencé en utilisant la notation <tt>\\server\share</tt> . <p> Pour créer un nouveau partage d&#39;imprimante, cliquez sur <tt>Create Printer Share</tt> comme sur la page principale. Cela affichera un formulaire similaire à celui utilisé pour créer des partages de fichiers, dans lequel vous pouvez entrer les détails du nouveau partage. Les options les plus importantes pour un nouveau partage d&#39;imprimante sont les suivantes: <p><table border width=100%><tr><td> <b>Nom de partage</b> </td><td> Chaque partage doit avoir un nom, utilisé par les clients pour s&#39;y référer. Un cas particulier est le partage <tt>All printers</tt> , expliqué plus loin. </td></tr><tr><td> <b>Imprimante</b> </td><td> L&#39;imprimante Unix à partager. Il peut s&#39;agir de n&#39;importe quelle imprimante sur laquelle vous imprimeriez à l&#39;aide de la commande <tt>lpr</tt> . </td></tr><tr><td> <b>Chemin</b> </td><td> Le répertoire dans lequel les fichiers d&#39;impression temporaires </td></tr><tr><td> <b>Accès invité</b> </td><td> Si un partage autorise les utilisateurs invités, les clients peuvent y accéder sans avoir à fournir un nom et un mot de passe valides. Un partage peut soit interdire les utilisateurs invités, autoriser les invités et les utilisateurs normaux, soit autoriser uniquement les invités. </td></tr><tr><td> <b>Type d&#39;imprimante</b> </td><td> Nom du pilote d&#39;imprimante à utiliser pour cette imprimante. Si vous entrez une valeur pour cette option et qu&#39;elle correspond à un lecteur d&#39;imprimante sur les PC clients, les utilisateurs n&#39;auront pas à choisir un pilote d&#39;imprimante lors de l&#39;ajout de cette imprimante. </td></tr></table><p> Comme pour les partages de fichiers, de nombreuses autres options sont disponibles pour les partages d&#39;impression. Dès qu&#39;un partage d&#39;imprimante est ajouté, il sera disponible pour les clients. Sous Windows 95 et NT, une imprimante peut être ajoutée à l&#39;aide de l&#39;option <tt>Add Printer</tt> dans le panneau de commande des imprimantes. Une fois ajouté, l&#39;utilisateur peut y imprimer comme n&#39;importe quelle imprimante locale ou réseau. <p><hr><h3> Création d&#39;une copie </h3><hr><h3> Modification d&#39;un partage </h3> Pour modifier un partage existant, cliquez sur son nom dans la liste des partages sur la page principale. Cela affichera le même formulaire utilisé pour créer un partage, vous permettant de modifier toutes les options et paramètres. Pour enregistrer vos modifications, cliquez sur le bouton <tt>Apply</tt> en bas à gauche de la page. <p> Pour supprimer un partage, cliquez sur le bouton <tt>Delete</tt> en bas à droite de la page. Les utilisateurs existants ne seront pas immédiatement déconnectés - cependant, aucun nouvel utilisateur ne pourra se connecter au partage. <p><hr><h3> Utilisateurs et sécurité </h3> Pour les partages qui n&#39;autorisent pas l&#39;accès en tant qu&#39;invité, Samba attend du client qu&#39;il fournisse un nom d&#39;utilisateur et un mot de passe. En règle générale, ceux-ci sont vérifiés par rapport à la liste d&#39;utilisateurs Unix qui peut être mise à jour par le module <a href=/useradmin/>User Manager</a> . Samba peut également conserver sa propre liste de noms d&#39;utilisateur et de mots de passe - voir la section <b>Mots de passe cryptés</b> pour plus de détails. <p> Certaines versions de Windows ne permettent pas à l&#39;utilisateur de fournir un nom d&#39;utilisateur lors de l&#39;accès à un partage - à la place, le nom d&#39;utilisateur fourni lors de la «connexion» à Windows est utilisé. Si tous les utilisateurs clients se connectent à Windows en utilisant le même nom d&#39;utilisateur qu&#39;ils utilisent pour Unix, ce n&#39;est pas un problème. Sinon, vous avez 2 options: <ol><li> Windows 95 et NT peuvent monter un partage manuellement, soit en tapant <tt>net use <i>drive:</i> <i>share</i></tt> à l&#39;invite de commande, soit en cliquant sur le bouton mapper le lecteur réseau dans une fenêtre de fichier et en entrant le chemin du partage. Dans les deux cas, le partage peut être au format <tt>\\server\share%user</tt> , où <i>utilisateur</i> est le nom d&#39;utilisateur avec lequel se connecter au serveur. <p><li> Samba peut être configuré pour tenter de faire correspondre le mot de passe fourni avec une liste d&#39;utilisateurs, afin de trouver le nom d&#39;utilisateur correct. L&#39;option de partage d&#39; <tt>Unix users</tt> vous permet de spécifier les utilisateurs ou groupes d&#39;utilisateurs à vérifier. Attention, l&#39;utilisation de cette option avec un grand nombre d&#39;utilisateurs n&#39;est pas très sécurisée car 2 personnes peuvent avoir le même mot de passe. <p></ul><hr><h3> Mots de passe cryptés </h3> Normalement, les mots de passe envoyés sur le réseau entre un serveur Samba et des clients PC ne sont pas chiffrés. C&#39;est mauvais pour 2 raisons: <ol><li> Tout le monde peut écouter sur votre réseau et capturer les mots de passe d&#39;autres personnes. <br><li> Les dernières versions de Windows 9x et NT refusent d&#39;envoyer des mots de passe non cryptés. Les utilisateurs essayant d&#39;accéder à votre serveur Samba à partir de ces systèmes recevront un message d&#39;erreur comme <tt>???</tt> . Cette modification est apparue pour la première fois dans NT Service Pack 3. <br></ol><p> Heureusement, Samba peut utiliser des mots de passe chiffrés. Cependant, il n&#39;est pas possible de faire correspondre les mots de passe envoyés par les clients avec le fichier de mot de passe Unix normal en raison des différentes formes de cryptage utilisées. Pour cette raison, Samba doit maintenir sa propre liste d&#39;utilisateurs et de mots de passe. <p> Pour basculer Samba en mode mot de passe crypté, vous devez: <ol><li> Assurez-vous que votre version de Samba prend en charge le cryptage des mots de passe. Dans la page <tt>Password Options</tt> , définissez l&#39;option <tt>Password Options</tt> <tt>Encrypted passwords</tt> sur oui. Si cela échoue, vous devrez télécharger ou compiler une version avec prise en charge du mot de passe crypté. <p><li> Cliquez sur le lien <tt>Convert Unix users to Samba users</tt> au bas de la page principale. Cela vous amènera à une page dans laquelle vous pouvez convertir tout ou partie de vos utilisateurs Unix existants en utilisateurs Samba. Les noms d&#39;utilisateur, les vrais noms, les UID et les shells seront convertis, mais pas les mots de passe. <p><li> Pour attribuer des mots de passe aux utilisateurs, utilisez l&#39;option <tt>Edit Samba user list</tt> sur la page principale. Cela affichera une liste de tous les utilisateurs de Samba, à partir de laquelle vous pouvez choisir un utilisateur à modifier. Le mot de passe de chaque utilisateur peut être <tt>Locked</tt> (aucune connexion autorisée), <tt>No Password</tt> (aucun mot de passe nécessaire) ou un mot de passe que vous entrez. <p></ul><hr> <a href="/"><img alt="&lt;-" align=middle border=0 src=/images/left.gif></a> <a href="">Retour au module</a> <p>