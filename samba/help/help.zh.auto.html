<body bgcolor=#ffffff><title>桑巴经理</title><center><img src="images/samba.gif"></center><br><h2> <i>该帮助页面不完整</i> </h2><hr><h3>介绍</h3> Samba是一个免费软件程序，允许运行Windows 95和NT的PC可以访问Unix系统上的文件和打印机，就像它是Windows文件/打印服务器一样。某些Unix系统（例如Redhat Linux）将Samba作为标准安装的一部分，而其他大多数系统则要求您单独下载并安装。 <p>如果您的系统上未安装Samba，则该模块的主页将抱怨它找不到Samba配置文件，并且您将无法共享任何文件或目录。如果确实安装了Samba但收到此错误消息，请检查<a href="/config.cgi?samba">模块配置</a> ，以确保Webmin在正确的位置查找配置文件和Samba程序。 <p>假设Samba安装正确，该模块的主页将显示系统上定义的所有文件和打印机共享的列表。如果Webmin确定Samba服务器未在运行，则将为您提供尝试启动服务器的选项。如果在启动时未启动Samba，则可能有必要。 <p><hr><h3>创建文件共享</h3> Samba文件共享是可以由客户端PC挂载的目录。每个共享都有一个简短的名称，例如<tt>docs</tt>或<tt>www</tt> ，它映射到Unix系统上的某个目录。客户端通常使用<tt>\\server\share</tt>表示法来引用<tt>\\server\share</tt> 。 <p>要创建共享，请单击主页上现有共享列表下方的“ <tt>Create File Share</tt>链接。这将显示一个表格，允许您输入新共享的详细信息。尽管Samba为每个共享支持大量参数，但最重要的参数是： <p><table border width=100%><tr><td> <b>股份名称</b> </td><td>每个共享都必须有一个名称，供客户用来引用它。一种特殊情况是“ <tt>All home directories</tt>共享，稍后说明。 </td></tr><tr><td> <b>路径</b> </td><td>要共享的目录。使用此共享的客户端只能访问此目录中或该目录下的文件。 </td></tr><tr><td> <b>可写的</b> </td><td>确定客户端是否可以写入此共享中的文件和目录。 </td></tr><tr><td> <b>来宾访问</b> </td><td>如果共享允许来宾用户使用，则客户端无需提供有效的名称和密码即可访问它。共享可以禁止访客用户，允许访客和普通用户或仅允许访客。 </td></tr></table>有关其他共享选项的信息，请参阅下面的“ <b>高级选项”</b>部分。 <p>输入新共享的详细信息并单击“ <tt>Create</tt>按钮后，它将立即对客户端PC可用。假设您的网络上的所有设置均正确设置，则用户将能够使用Windows下的<tt>Network Neighbourhood</tt>功能来查看您的服务器及其所有共享。然后可以将新创建的共享映射到PC上的驱动器号。 <p><hr><h3>创建打印机共享</h3> Samba打印机共享是您希望对PC客户端可用的本地或远程Unix打印机。像文件共享一样，每个打印机共享都有一个短名称（例如<tt>hp5si</tt> ），并使用<tt>\\server\share</tt>表示法来引用。 <p>要创建新的打印机共享，请单击主页上的“ <tt>Create Printer Share</tt> 。这将显示一种类似于用于创建文件共享的窗体，您可以在其中输入新共享的详细信息。新打印机共享的最重要选项是： <p><table border width=100%><tr><td> <b>股份名称</b> </td><td>每个共享都必须有一个名称，供客户用来引用它。一种特殊情况是“ <tt>All printers</tt>共享，稍后说明。 </td></tr><tr><td> <b>打印机</b> </td><td>要共享的Unix打印机。这可以是使用<tt>lpr</tt>命令打印到的任何打印机。 </td></tr><tr><td> <b>路径</b> </td><td>临时打印文件所在的目录</td></tr><tr><td> <b>来宾访问</b> </td><td>如果共享允许来宾用户使用，则客户端无需提供有效的名称和密码即可访问它。共享可以禁止访客用户，允许访客和普通用户或仅允许访客。 </td></tr><tr><td> <b>打印机类型</b> </td><td>该打印机应使用的打印机驱动程序的名称。如果为此选项输入一个值，并且该值与客户端PC上的打印机驱动器匹配，则用户在添加此打印机时不必选择打印机驱动程序。 </td></tr></table><p>与文件共享一样，打印共享还有更多选项。一旦添加了打印机共享，客户端便可以使用它。在Windows 95和NT下，可以使用打印机控制面板中的“ <tt>Add Printer</tt>选项来<tt>Add Printer</tt> 。添加后，用户可以像使用任何本地或网络打印机一样对其进行打印。 <p><hr><h3>创建副本</h3><hr><h3>编辑共享</h3>要编辑现有共享，请在主页上的共享列表中单击其名称。这将显示用于创建共享的相同表单，允许您修改所有选项和参数。要保存更改，请单击页面左下方的“ <tt>Apply</tt>按钮。 <p>要删除共享，请单击页面右下方的“ <tt>Delete</tt>按钮。现有用户将不会立即断开连接-但是，没有新用户将能够连接到共享。 <p><hr><h3>用户与安全</h3>对于不允许来宾访问的共享，Samba希望客户端提供用户名和密码。通常，将根据可通过<a href=/useradmin/>用户管理器</a>模块更新的Unix用户列表来检查这些文件。 Samba还可以保留自己的用户名和密码列表-有关更多详细信息，请参见“ <b>加密密码”</b>部分。 <p> Windows的某些版本不允许用户在访问共享时提供用户名-而是使用“登录”到Windows时提供的用户名。如果所有客户端用户都使用与Unix使用相同的用户名登录Windows，那么这不是问题。如果没有，您有2个选择： <ol><li> Windows 95和NT可以通过在命令提示符下键入<tt>net use <i>drive:</i> <i>share</i></tt>或单击文件窗口中的map network drive按钮并输入共享路径来手动安装共享。在这两种情况下，共享的格式都可以为<tt>\\server\share%user</tt> ，其中<i>user</i>是用于登录服务器的用户名。 <p><li>可以将Samba配置为尝试将提供的密码与用户列表进行匹配，以便找到正确的用户名。 <tt>Unix users</tt>共享选项允许您指定要检查的用户或用户组。请注意，对两个用户使用此选项不是很安全，因为两个人可能使用相同的密码。 <p></ul><hr><h3>加密密码</h3>通常，在Samba服务器和PC客户端之间通过网络发送的密码不会被加密。这是不好的，原因有两个： <ol><li>任何人都可以在您的网络上侦听并捕获其他人的密码。 <br><li> Windows 9x和NT上的最新版本拒绝发送未加密的密码。尝试从这些系统访问您的Samba服务器的用户将收到类似<tt>???</tt>的错误消息。 。此更改首先出现在NT Service Pack 3中。 <br></ol><p>幸运的是，Samba可以使用加密的密码。但是，由于所使用的加密形式不同，因此无法将客户端发送的密码与普通的Unix密码文件进行匹配。因此，Samba必须维护自己的用户和密码列表。 <p>要将Samba切换到加密密码模式，您必须： <ol><li>确保您的Samba版本支持密码加密。在“ <tt>Password Options</tt>页面中，将“ <tt>Encrypted passwords</tt>选项设置为“是”。如果失败，则需要下载或编译具有加密密码支持的版本。 <p><li>单击主页底部的“ <tt>Convert Unix users to Samba users</tt>链接。这将带您进入一个页面，您可以在其中将部分或全部现有Unix用户转换为Samba用户。用户名，真实姓名，UID和外壳程序将被转换-但密码不会转换。 <p><li>要将密码分配给用户，请使用主页上的“ <tt>Edit Samba user list</tt>选项。这将显示所有Samba用户的列表，您可以从中选择要编辑的用户。每个用户的密码可以是“ <tt>Locked</tt> （不允许登录），“ <tt>No Password</tt> （不需要密码）或您输入的某些密码。 <p></ul><hr> <a href="/"><img alt="&lt;-" align=middle border=0 src=/images/left.gif></a> <a href="">返回模块</a> <p>