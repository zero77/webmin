<body bgcolor=#ffffff><title> Gerenciador de Samba </title><center><img src="images/samba.gif"></center><br><h2> <i>Esta página de ajuda está incompleta</i> </h2><hr><h3> Introdução </h3> O Samba é um programa freeware que permite que PCs com Windows 95 e NT acessem arquivos e impressoras no seu sistema Unix, como se fosse um servidor de arquivos / impressão do Windows. Alguns sistemas Unix, como o Redhat Linux, incluem o Samba como parte da instalação padrão, enquanto outros exigem que você faça o download e instale-o separadamente. <p> Se você não possui o Samba instalado no seu sistema, a página principal do módulo irá reclamar que não encontrou o arquivo de configuração do Samba e você não poderá compartilhar nenhum arquivo ou diretório. Se você possui o Samba instalado, mas está recebendo essa mensagem de erro, verifique a <a href="/config.cgi?samba">configuração</a> do <a href="/config.cgi?samba">módulo</a> para garantir que o Webmin esteja procurando o local certo para o arquivo de configuração e os programas do Samba. <p> Supondo que o Samba esteja instalado corretamente, a página principal do módulo exibirá uma lista de todos os compartilhamentos de arquivos e impressoras definidos no seu sistema. Se o Webmin determinar que o servidor Samba não está sendo executado, você terá a opção de tentar iniciar o servidor. Isso pode ser necessário se o Samba não for iniciado no momento da inicialização. <p><hr><h3> Criando um compartilhamento de arquivo </h3> Um compartilhamento de arquivo Samba é um diretório que pode ser montado pelos PCs clientes. Cada compartilhamento tem um nome abreviado, como <tt>docs</tt> ou <tt>www</tt> , que mapeia para algum diretório em seu sistema Unix. Um compartilhamento geralmente é referido por um cliente usando a notação <tt>\\server\share</tt> . <p> Para criar um compartilhamento, clique no link <tt>Create File Share</tt> abaixo da lista de compartilhamentos existentes na página principal. Isso exibirá um formulário que permite inserir os detalhes do novo compartilhamento. Embora o Samba suporte um grande número de parâmetros para cada compartilhamento, os mais importantes são: <p><table border width=100%><tr><td> <b>Nome da parte</b> </td><td> Cada compartilhamento deve ter um nome, usado pelos clientes para se referir a ele. Um caso especial é o compartilhamento <tt>All home directories</tt> pessoais, explicado posteriormente. </td></tr><tr><td> <b>Caminho</b> </td><td> O diretório a ser compartilhado. Clientes que usam esse compartilhamento podem acessar apenas arquivos neste diretório ou abaixo dele. </td></tr><tr><td> <b>Gravável</b> </td><td> Determina se os clientes podem gravar em arquivos e diretórios neste compartilhamento. </td></tr><tr><td> <b>Acesso para convidados</b> </td><td> Se um compartilhamento permitir usuários convidados, os clientes poderão acessá-lo sem a necessidade de fornecer um nome e senha válidos. Um compartilhamento pode proibir usuários convidados, permitir convidados e usuários normais ou apenas convidados. </td></tr></table> Para obter informações sobre outras opções de compartilhamento, consulte a seção <b>Opções avançadas</b> abaixo. <p> Depois de inserir os detalhes de um novo compartilhamento e clicar no botão <tt>Create</tt> , ele estará imediatamente disponível para os PCs clientes. Supondo que tudo esteja configurado corretamente na sua rede, os usuários poderão usar a função <tt>Network Neighbourhood</tt> no Windows para ver seu servidor e todos os seus compartilhamentos. O compartilhamento recém-criado pode ser mapeado para uma letra de unidade no PC. <p><hr><h3> Criando um compartilhamento de impressora </h3> Um compartilhamento de impressora Samba é uma impressora Unix local ou remota que você deseja disponibilizar para clientes de PC. Como os compartilhamentos de arquivos, todo compartilhamento de impressora tem um nome abreviado (como <tt>hp5si</tt> ) e é referido com o uso da notação <tt>\\server\share</tt> . <p> Para criar um novo compartilhamento de impressora, clique em <tt>Create Printer Share</tt> como na página principal. Isso exibirá um formulário semelhante ao usado para criar compartilhamentos de arquivos, no qual você poderá inserir os detalhes do novo compartilhamento. As opções mais importantes para um novo compartilhamento de impressora são: <p><table border width=100%><tr><td> <b>Nome da parte</b> </td><td> Cada compartilhamento deve ter um nome, usado pelos clientes para se referir a ele. Um caso especial é o compartilhamento <tt>All printers</tt> , explicado posteriormente. </td></tr><tr><td> <b>Impressora</b> </td><td> A impressora Unix a ser compartilhada. Pode ser qualquer impressora na qual você imprimiria usando o comando <tt>lpr</tt> . </td></tr><tr><td> <b>Caminho</b> </td><td> O diretório no qual os arquivos de impressão temporários </td></tr><tr><td> <b>Acesso para convidados</b> </td><td> Se um compartilhamento permitir usuários convidados, os clientes poderão acessá-lo sem a necessidade de fornecer um nome e senha válidos. Um compartilhamento pode proibir usuários convidados, permitir convidados e usuários normais ou apenas convidados. </td></tr><tr><td> <b>Tipo de impressora</b> </td><td> O nome do driver da impressora que deve ser usado para esta impressora. Se você inserir um valor para essa opção e corresponder a uma unidade de impressora nos PCs clientes, os usuários não precisarão escolher um driver de impressora ao adicionar esta impressora. </td></tr></table><p> Assim como os compartilhamentos de arquivos, muitas outras opções estão disponíveis para compartilhamentos de impressão. Assim que um compartilhamento de impressora for adicionado, ele estará disponível para os clientes. No Windows 95 e NT, uma impressora pode ser adicionada usando a opção <tt>Add Printer</tt> no painel de controle da impressora. Uma vez adicionado, o usuário pode imprimir como qualquer impressora local ou de rede. <p><hr><h3> Criando uma cópia </h3><hr><h3> Editando um compartilhamento </h3> Para editar um compartilhamento existente, clique em seu nome na lista de compartilhamentos na página principal. Isso exibirá o mesmo formulário usado para criar um compartilhamento, permitindo que você modifique todas as opções e parâmetros. Para salvar suas alterações, clique no botão <tt>Apply</tt> na parte inferior esquerda da página. <p> Para excluir um compartilhamento, clique no botão <tt>Delete</tt> no canto inferior direito da página. Os usuários existentes não serão desconectados imediatamente - no entanto, nenhum novo usuário poderá se conectar ao compartilhamento. <p><hr><h3> Usuários e segurança </h3> Para compartilhamentos que não permitem acesso de convidado, o Samba espera que o cliente forneça um nome de usuário e senha. Normalmente, eles são verificados na lista de usuários do Unix, que pode ser atualizada pelo módulo <a href=/useradmin/>Gerenciador de usuários</a> . O Samba também pode manter seu próprio nome de usuário e lista de senhas - consulte a seção <b>Senhas Criptografadas</b> para obter mais detalhes. <p> Algumas versões do Windows não permitem que o usuário forneça um nome de usuário ao acessar um compartilhamento - em vez disso, o nome de usuário fornecido quando o &#39;login&#39; no Windows é usado. Se todos os usuários clientes fizerem login no Windows usando o mesmo nome de usuário que eles usam para Unix, isso não será um problema. Caso contrário, você tem 2 opções: <ol><li> O Windows 95 e NT podem montar um compartilhamento manualmente, digitando <tt>net use <i>drive:</i> <i>share</i></tt> no prompt de comando ou clicando no botão mapear unidade de rede em uma janela de arquivo e digitando o caminho de compartilhamento. Nos dois casos, o compartilhamento pode estar no formato <tt>\\server\share%user</tt> , em que <i>user</i> é o nome de usuário com o qual efetuar login no servidor. <p><li> O Samba pode ser configurado para tentar combinar a senha fornecida com uma lista de usuários, a fim de encontrar o nome de usuário correto. A opção de compartilhamento de <tt>Unix users</tt> permite especificar os usuários ou grupos de usuários a serem verificados. Lembre-se de que o uso dessa opção com um grande número de usuários não é muito seguro, pois duas pessoas podem ter a mesma senha. <p></ul><hr><h3> Senhas criptografadas </h3> Normalmente, as senhas enviadas pela rede entre um servidor Samba e clientes de PC não são criptografadas. Isso é ruim por 2 razões: <ol><li> Qualquer um pode ouvir sua rede e capturar senhas de outras pessoas. <br><li> As versões mais recentes no Windows 9x e NT se recusam a enviar senhas não criptografadas. Os usuários que tentarem acessar o servidor Samba desses sistemas receberão uma mensagem de erro como <tt>???</tt> . Essa alteração apareceu pela primeira vez no NT service pack 3. <br></ol><p> Felizmente, o Samba pode usar senhas criptografadas. No entanto, não é possível corresponder senhas enviadas pelos clientes ao arquivo normal de senhas do Unix devido às diferentes formas de criptografia usadas. Por esse motivo, o Samba deve manter sua própria lista de usuários e senhas. <p> Para mudar o Samba para o modo de senha criptografada, você deve: <ol><li> Verifique se a sua versão do Samba suporta criptografia de senha. Na página <tt>Password Options</tt> , defina a opção <tt>Encrypted passwords</tt> como sim. Se isso falhar, você precisará fazer o download ou compilar uma versão com suporte a senha criptografada. <p><li> Clique no link <tt>Convert Unix users to Samba users</tt> na parte inferior da página principal. Isso o levará a uma página na qual você poderá converter alguns ou todos os usuários existentes do Unix em usuários do Samba. Nomes de usuários, nomes reais, UIDs e shells serão convertidos - mas as senhas não. <p><li> Para atribuir senhas aos usuários, use a opção <tt>Edit Samba user list</tt> na página principal. Isso exibirá uma lista de todos os usuários do Samba, na qual você pode escolher um usuário para editar. A senha de cada usuário pode ser <tt>Locked</tt> (nenhum login permitido), <tt>No Password</tt> (nenhuma senha necessária) ou alguma senha que você digitar. <p></ul><hr> <a href="/"><img alt="&lt;-" align=middle border=0 src=/images/left.gif></a> <a href="">Retornar ao módulo</a> <p>