<header> Параметры кэша </header> <b>Каталогі кэша</b> : Вы можаце задаць некалькі радкоў каталога кэша, каб размясціць кэш паміж рознымі дыскавымі раздзеламі. <p> <em>Каталог</em> - гэта <em>каталог</em> верхняга ўзроўню, у якім будуць захоўвацца файлы падпампоўкі кэша. Калі вы хочаце выкарыстоўваць увесь дыск для кэшавання, то гэта можа быць каталог з кропкай мацавання. Каталог павінен існаваць і падлягаць напісанню працэсам Squid. Кальмары НЕ ствараюць гэты каталог для вас. <p> <em>Памер</em> - гэта аб&#39;ём дыскавай прасторы (МБ), які трэба выкарыстаць у гэтым каталогу. Па змаўчанні 100 МБ. Змяніце гэта ў адпаведнасці з вашай канфігурацыяй. <p> <em>Рэжымы 1-га ўзроўню</em> - гэта колькасць падкаталогіў першага ўзроўню, якія будуць створаны ў <em>каталогу</em> . Па змаўчанні - 16. <p> <em>Дыры 2-га ўзроўню</em> - гэта колькасць падкаталогіў другога ўзроўню, якія будуць створаны пад каталогамі першага ўзроўню. Па змаўчанні - 256. <P> <b>Сярэдні памер аб&#39;екта</b> : па змаўчанні 13 кБ. Сярэдні памер аб&#39;екта, які выкарыстоўваецца для ацэнкі колькасці аб&#39;ектаў, у якіх можа захоўвацца кэш. <p> <b>Аб&#39;екты на вядро</b> : па змаўчанні 50. Мэтавая колькасць аб&#39;ектаў на вядро ў хэш-табліцы крамы. Зніжэнне гэтага значэння павялічвае агульную колькасць вёдраў, а таксама хуткасць абслугоўвання. <p> <b>Не кэшуйце URL-адрасы для ACL</b> : па змаўчанні няма. Абярыце любыя ACL-файлы, для якіх вы не хочаце, каб кальмары кэшавалі дадзеныя. Карысна для вызначэння ўнутранага вэб-сервера, які не павінен быць кэшаваны. <p> <b>Максімальны час кэша</b> : па змаўчанні 1 год. Гэты параметр вызначае максімальны ўзрост LRU. Напрыклад, усталяванне гэтага значэння &quot;1 тыдзень&quot; прывядзе да выдалення аб&#39;ектаў, калі яны не былі даступныя на працягу тыдня і больш. <p> <b>Памылка часу запыту</b> па змаўчанні - 5 хвілін. Час жыць (TTL) для няўдалых запытаў. Некаторыя тыпы збояў (напрыклад, &quot;адмоўлена ў злучэнні&quot; і &quot;404 не знойдзены&quot;) будуць кэшаваны негатыўна на працягу доўгага часу. Звярніце ўвагу, што гэта адрозніваецца ад негатыўнага кэшавання пошуку DNS. <p> <b>Час кэша пошуку DNS</b> : па змаўчанні 6 гадзін (360 хвілін). Час жыць (TTL) для станоўчага кэшавання паспяховых пошукаў DNS. Калі вы хочаце мінімізаваць выкарыстанне ipcache Squid, усталюйце яго на 1, а не на 0. <p> <b>Памылка часу кэшавання DNS</b> : па змаўчанні 5 хвілін. Час жыць (TTL) для адмоўнага кэшавання няўдалых пошукаў DNS. <p> <b>Тайм-аут падлучэння</b> : па змаўчанні 120 секунд. У некаторых сістэмах (у прыватнасці, у Linux) нельга спадзявацца на правільны тайм-аўт падлучэння (2) запытаў. Такім чынам, працэс Кальмара прымушае свой тайм-аўт на злучэнні з серверам. Гэты параметр паказвае, як доўга чакаць завяршэння злучэння. <p> <b>Час чакання прачытання</b> : па змаўчанні 15 хвілін. Read_timeout прымяняецца на злучэннях з боку сервера. Пасля кожнага паспяховага прачытання () час чакання будзе павялічаны на гэтую суму. Калі пасля гэтага часу дадзеныя не прачытаюцца зноў, запыт спыняецца і рэгіструецца з дапамогай ERR_READ_TIMEOUT. <p> <b>Час чакання выбару сайта</b> : па змаўчанні 4 секунды. Для выбару URN для некалькіх URL-адрасоў. <p> <b>Час чакання запыту кліента</b> : па змаўчанні 15 хвілін. Read_timeout прымяняецца на злучэннях з боку сервера. Пасля кожнага паспяховага прачытання () час чакання будзе павялічаны на гэтую суму. Калі пасля гэтага часу дадзеныя не прачытаюцца зноў, запыт спыняецца і рэгіструецца з дапамогай ERR_READ_TIMEOUT. <p> <b>Максімальны час падлучэння кліента</b> : па змаўчанні 1 дзень. Максімальны час, якім кліент (браўзэр) можа заставацца на сувязі з працэсам кэшавання. Гэта абараняе Кэш ад наяўнасці мноства сокетаў (а значыць, і дэскрыптараў файлаў), звязаных у стане CLOSE_WAIT ад аддаленых кліентаў, якія сыходзяць без належнага адключэння (альбо з-за адмовы ў сетцы, альбо з-за дрэннай рэалізацыі кліента). <p> <b>Максімальны час адключэння</b> : па змаўчанні 30 секунд. Калі будзе атрымана SIGTERM або SIGHUP, кэш пераходзіць у рэжым &quot;чаканне адключэння&quot;, пакуль усе актыўныя разеткі не будуць зачыненыя. Гэта значэнне - тэрмін службы, усталяваны для ўсіх адкрытых дэскрыптараў падчас адключэння. Любыя актыўныя кліенты праз гэтыя шмат секунд атрымаюць паведамленне аб &quot;тайм-аўце&quot;. <p> <b>Напаўзачыненыя кліенты</b> : па змаўчанні &quot;на&quot;. Некаторыя кліенты могуць адключыць адпраўную частку сваіх TCP-злучэнняў, пакінуўшы іх прыёмныя бакі адкрытымі. Часам Кальмар не можа сказаць розніцу паміж напаўзачыненым і цалкам закрытым TCP-злучэннем. Па змаўчанні злучаныя кліенцкія злучэнні застаюцца адкрытымі, пакуль не прачытаецца (2) альбо запішыце (2) на гняздо. Змяніце гэтую опцыю на &#39;выключана&#39;, і Кальмар неадкладна закрые кліентскія злучэнні, калі пры чытанні (2) вернецца &quot;больш дадзеных для чытання&quot;. <p> <b>Пастаянны тайм-аўт</b> : па змаўчанні 120 секунд. Час тайм-аўта для бяздзейных сувязяў з кліентамі, серверамі і іншымі проксі-серверамі. Пастаяннае злучэнне будзе адключана, калі гэта менш за 10 секунд. <p> <b>Хост рэле WAIS</b> : па змаўчанні няма. Імя хаста ці адрас для рэтрансляцыі запытаў WAIS. <p> <b>Порт рэле WAIS</b> : па змаўчанні няма. Порт для прамога рэтрансляцыі запытаў WAIS. <hr>