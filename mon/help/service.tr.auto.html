<header> Servis Tanımlarında MON Yardımı </header><p> Bu MON yapılandırması için ikinci ve son aşamadır. <p> Zorunlu hizmetler için varsayılan değerler gösterilir <marked in RED color> . Hizmet Tanımları hakkında daha fazla yardım için aşağıdaki ilgili yardım konusuna bakın. <p> <b>&quot;Mail.alert&quot; için</b> , sendmail&#39;in yapılandırıldığından ve host makinesinde <b>&quot;sendmail&quot;</b> deamonunun başlatıldığından emin olun. <H3> Hizmet Tanımları </H3><P><DL COMPACT><DT> <B>servis servis</b> <I>adı</i> <DD> Hizmet tanımı, anahtar kelime <B>hizmeti ve</b> ardından bu hizmetin etiketi olan bir sözcükle başlar. <P> Bir servisin bileşenleri, aşağıda tanımlandığı gibi bir aralık, monitör ve bir veya daha fazla zaman periyodu tanımlamasıdır. <P> &quot;Dafault&quot; adlı bir izleme grubunda &quot;varsayılan&quot; hizmet adı tanımlanmışsa (yukarıya bakın), bilinmeyen mon tuzaklarını işlemek için varsayılan / varsayılan tanım kullanılır. <P><DT> <B>aralıklı</b> <I>zamanlama</i> <DD> Anahtar kelime <B>aralığı ve</b> ardından bir zaman değeri, bir monitör komut dosyasının tetiklenme sıklığını belirtir. Zaman değerleri &quot;30s&quot;, &quot;5m&quot;, &quot;1h&quot; veya &quot;1d&quot; olarak tanımlanır, yani 30 saniye, 5 dakika, 1 saat veya 1 gün. Sayısal kısım, &quot;1.5 saat&quot; veya bir buçuk saat gibi bir fraksiyon olabilir. Bir zaman belirtiminin bu formatı zaman <I>çizelgesi</i> olarak <I>anılacaktır</i> . <P><DT> <B>traptimeout</b> <I>timeval</i> <DD> Bu anahtar kelime <B>aralığı</b> ile aynı zaman şartname argüman alır <I>ve</i> genellikle başka bir başarısızlık tescil edilecek en az bir harici kaynaktan bir tuzak beklediğinin hizmeti yapar. Bu, kalp atışı tarzı bir servis için kullanılır. <P><DT> <B>tuzaklanma</b> <I>zamanlaması</i> <DD> Bir tuzak alınırsa, tuzağın teslim edildiği hizmetin durumu normal olarak sabit kalır. <B>Trapduration</b> belirtilirse, hizmetin durumu zaman <I>çizelgesi</i> tarafından belirtilen süre boyunca bir hata durumunda kalır ve sonra &quot;başarılı&quot; olarak sıfırlanır. <P><DT> <B>Randskew zaman</b> <I>çizelgesi</i> <DD> Monitör komut dosyasını her aralığın başında çalışacak şekilde zamanlamak yerine, <B>aralık</b> parametresi tarafından belirtilen <B>aralığı</b> artı veya eksi <B>randskew ile</b> rastgele ayarlayın <B>.</b> Eğriltme değeri <B>aralık</b> parametresi olarak belirtilir: &quot;30s&quot;, &quot;5m&quot;, vb ... Örneğin <B>aralık</b> 1m ve <B>randskew</b> &quot;5s&quot; ise, <I>mon</i> monitör komut dosyasını her 55 saniyede bir zamanlayacak ve 65 saniye. Amaç, aynı aralıklarla çok sayıda hizmet zamanlandığında yükün sunucuya dağıtılmasına yardımcı olmaktır. <P><DT> <B>monitör</b> <I>monitör adı [arg ...]</i> <DD> Anahtar kelime <B>izleyicinin</b> ardından bir komut dosyası adı ve bağımsız değişkenler, zamanlayıcının süresi dolduğunda çalıştırılacak monitörü belirtir. Monitör komut dosyasına gönderilecek bağımsız değişkenler belirlenirken Kabuk benzeri alıntılama kuralları izlenir. Komut dosyası <B>-s</b> argümanı ile verilen dizinden çağrılır ve aşağıdaki tüm kelimeler monitör programına bağımsız değişkenler olarak verilir, ardından gruptaki geçerli izleme grubu tarafından belirtilen ana bilgisayarların listesi gelir. Monitör çizgisi &quot;;;&quot; ayrı bir kelime olarak, program çağrıldığında ana bilgisayar grupları bağımsız değişken listesine eklenmez. <P><DT> <B>allow_empty_group</b> <DD> <B>Allow_empty_group</b> seçeneği, devre dışı bırakılan ana makineler nedeniyle o saatin ana makine grubu boş olsa bile bir monitörün çağrılmasına izin verir. Varsayılan davranış, bir ana bilgisayar grubundaki tüm ana bilgisayarlar devre dışı bırakıldığında monitörü çağırmak değildir. <P><DT> <B>açıklama</b> <I>açıklama metni</i> <DD> Aşağıdaki <B>açıklama</b> , istemci programları tarafından sorgulanır, ortam değişkeni aracılığıyla uyarılara ve monitörlere aktarılır. Bir e-postaya veya bir web sayfasına dahil edilmeye uygun olan hizmetin kısa bir açıklamasını içermelidir. <P><DT> <B>exclude_hosts</b> <I>ana bilgisayarı [ana makine ...]</i> <DD> <B>Exclude_hosts öğesinden</b> sonra listelenen tüm ana bilgisayarlar hizmet kontrolünden hariç tutulur. <P><DT> <B>exclude_period</b> <I>periodpec</i> <DD> <I>Süreler ile</i> belirtilen süre boyunca planlanmış bir monitörü çalıştırmayın. <P><DT> <I>dependexpression&#39;a</i> <B>bağlı</b> <DD> <B>Depends</b> anahtar sözcüğü, mantıksal olarak false değerinden doğru olarak değerlendirilen bir bağımlılık ifadesi belirtmek için kullanılır. Bağımlılıklar gerçek Perl ifadeleridir ve tüm sözdizimsel kurallara uymalıdır. İfadeler, istenmeyen bazı yan etkilere sahip olmayacak şekilde kendi paket alanlarında değerlendirilir. İfadeyi değerlendirirken bir sözdizimi hatası bulunursa, syslog yoluyla günlüğe kaydedilir. <P> Değerlendirmeden önce, ifade üzerinde aşağıdaki ikameler gerçekleşir: &quot;grup: hizmet&quot; gibi görünen ifadeler, belirtilen hizmetin geçerli çalışma durumunun değeri ile değiştirilir. Bu opstatus ikameleri özyinelemeli olarak hesaplanır, bu nedenle A hizmeti B hizmetine ve B hizmeti hizmet C&#39;ye bağlıysa, hizmet A hizmet C&#39;ye bağlıdır. Başarılı çalışma durumları (&quot;1&quot; olarak değerlendirilir) &quot;STAT_OK&quot;, &quot;STAT_COLDSTART &quot;,&quot; STAT_WARMSTART &quot;ve&quot; STAT_UNKNOWN &quot;. &quot;SELF&quot; kelimesi (tüm harflerde) grup için kullanılabilir (örn. &quot;SELF: service&quot;) ve geçerli izleme grubunun kısaltmasıdır. <P> Bu özellik, diğer hizmetlere bağımlı servisler için uyarıları kontrol etmek için kullanılabilir, örneğin ping erişimine sahip makineye bağlı bir SMTP testi. <P><DT> <B>dep_behavior</b> <I>{a | m}</i> <DD> Bağımlılık grafiklerinin değerlendirilmesi, uyarı veya monitör çağrılarının bastırılmasını kontrol edebilir. <P> <B>Uyarı bastırma</b> . Bu seçenek &quot;a&quot; olarak ayarlanırsa, bağımlılık ifadesi hizmetin monitöründen çıktıktan sonra veya bir tuzak alındıktan sonra değerlendirilir. Bir uyarı yalnızca değerlendirme başarılı olursa gönderilir; başka bir deyişle, bağımlılık grafiğindeki düğümlerin hiçbiri hata göstermez. <P> <B>Baskılamayı izleyin</b> . &quot;M&quot; olarak ayarlanmışsa, bağımlılık ifadesi hizmetin izleyicisi çalıştırılmadan önce değerlendirilecektir. Değerlendirme başarılı olursa, monitör çalıştırılır. Aksi takdirde, monitör çalışmaz ve hizmetin durumu aynı kalır. <P></DL><A NAME="lbAO">&nbsp;</A><H3> Dönem Tanımları </H3><P> Dönemler, uyarıların iletilmesine izin vermesi gereken koşulları tanımlamak için kullanılır. <P><DL COMPACT><DT> <B>period</b> <I>[etiket:] periodpec</i> <DD> Bir süre, bir hata olduğunda bir uyarının ne sıklıkta gerçekleşeceğini kontrol eden bir veya daha fazla alarm ve değişkeni gruplandırır. <B>Period</b> anahtar kelimesinin iki formu vardır. Birincisi, Patrick Ryan&#39;ın Time :: Period Perl 5 modülünden bir dönem spesifikasyonu olan bir argüman alır. Daha fazla bilgi için bkz. &quot;Perldoc Saati :: Periyot&quot;. <P> İkinci form, yukarıda tanımlandığı gibi bir etiket ve ardından nokta belirtimi gerektirir. Etiket, alfabetik bir karakter veya alt çizgi, ardından sıfır veya daha fazla alfasayısal veya alt çizgi içeren ve iki nokta üst üste işaretiyle biten bir etikettir. Bu form, aynı dönem tanımına sahip birden çok noktaya izin verir. Bir kullanım, belirli bir zaman dilimi için herhangi bir <B>uyarı</b> veya <B>uyarı</b> parametresi olmayan bir süre tanımına sahip olmak, diğeri ise bu parametreleri içeren farklı bir uyarı kümesiyle aynı zaman dilimi için bir süre tanımına sahip <B>olmaktır</b> . <P><DT> <B>uyanık</b> <I>zaman</i> <DD> <B>Alertevery</b> anahtar sözcüğü ( <B>nokta</b> tanımı içinde), <B>aralık</b> değişkeni ile aynı türde bir bağımsız değişken alır ve hizmet başarısız olmaya devam ettiğinde bir uyarının gönderilme sayısını sınırlar. Örneğin, aralık &quot;1s&quot; ise, yalnızca dönem bölümündeki uyarılar yalnızca saatte bir tetiklenir. <B>Alertevery</b> anahtar sözcüğü bir dönem girişinde atlanırsa, her hata algılandığında bir uyarı gönderilir. Varsayılan olarak, art arda iki hatanın çıkışı değişirse, uyarı aralığı geçersiz kılınır. &quot;Özet&quot; kelimesi son argüman ise, ardışık hataların çıktılarını karşılaştırırken yalnızca özet çıktı satırları dikkate alınacaktır. <P><DT> <B>uyarıcı</b> <I>num</i> <DD><P><DT> <B>Alertafter</b> <I>num timeval</i> <DD> <B>Alertafter</b> anahtar sözcüğünün ( <B>nokta</b> bölümü içinde) iki şekli vardır: yalnızca &quot;num&quot; bağımsız değişkeniyle veya &quot;num timeval&quot; bağımsız değişkenleriyle. İlk formda, bir uyarı yalnızca &quot;num&quot; ardışık başarısızlıktan sonra çağrılır. <P> İkinci formda, argümanlar, yukarıdaki <B>aralık</b> değişkeni tarafından tarif edildiği gibi, bir aralık izleyen pozitif bir tamsayıdır. Bu parametreler belirtilirse, o döneme ait uyarılar yalnızca bu aralıkta çok sayıda hata meydana geldikten sonra çağrılır. Örneğin, <B>uyarıcıya</b> &quot;3 30m&quot; bağımsız değişkenleri verilirse, 30 dakika içinde 3 <B>hata oluşursa</b> uyarı çağrılır. <P><DT> <B>sayılar</b> <I>num</i> <DD><P> Bu değişken, sunucuya bir hata sırasında en fazla <I>sayı</i> uyarısı çağırmasını bildirir. Uyarı sayacı, dönem başına tutulur ve her başarıdan sonra sıfırlanır. <P><DT> <B>comp_alerts</b> <DD><P> Bu seçenek belirtilirse, upalerts yalnızca karşılık gelen bir &quot;aşağı&quot; uyarısı çağrıldığında çağrılır. <P><DT> <B>uyarı</b> <I>uyarısı [arg ...]</i> <DD> Bir süre, hizmetin başarısız olması durumunda tetiklenen birden fazla uyarı içerebilir. Bir uyarı, <B>uyarı</b> anahtar sözcüğüyle, ardından isteğe bağlı bir <B>çıkış</b> parametresiyle ve <B>monitör</b> tanımıyla aynı olarak yorumlanan, ancak &quot;;;&quot; istisna. <B>Exit</b> parametresi, <B>exit = x</b> veya <B>exit = xy</b> biçimini alır ve uyarının yalnızca monitör komut dosyasının çıkış durumu <B>çıkış</b> parametresi aralığı içine düştüğünde çağrılmasını sağlar. Örneğin, uyarı satırı <I>uyarı çıkışı = 10-20 mail.alert mis ise,</i> <I>posta uyarısı</i> yalnızca monitör programının çıkış değeri 10 ile 20 arasındaysa argüman olarak <I>yanlış</i> olarak çağrılır. Bu özellik tetiklemenize olanak tanır farklı önem seviyelerinde farklı uyarılar (boş disk alanının% 8&#39;den% 3&#39;e çıkması gibi). <P> Alarm programlarına otomatik olarak geçecek olan hızölçerlerin bir listesi için yukarıdaki <B>UYARI PROGRAMLARI</b> bölümüne bakın. <P><DT> <B>upalert</b> <I>uyarısı [arg ...]</i> <DD> Bir <B>upalert</b> , bir <B>uyarının</b> iltifatıdır. Bir hizmetler durumu başarısızlıktan başarıya dönüştürdüğünde bir upalert çağrılır. <B>Upalert</b> betiği, <B>uyarı</b> betiği ile aynı parametreleri sağlayarak çağrılır ve bir uyarı betiğinin bir upalert olarak adlandırıldığını bilmesini sağlamak için kullanılan <B>-u</b> parametresi eklenir. Her dönem tanımı için birden fazla yukarı belirtme belirtilebilir. Varsayılan davranışın, bir geçiş işleminde durum geçişleri tetiklendiğinden, daha önce &quot;aşağı&quot; uyarı gönderilip gönderilmediğine bakılmaksızın bir upalert gönderileceğini lütfen unutmayın. <B>Periyot</b> başına <B>comp_alerts</b> seçeneğini yukarı akışları &quot;aşağı&quot; uyarılarıyla eşleştirmek için ayarlayın. <P><DT> <B>startupalert</b> <I>uyarısı [arg ...]</i> <DD> Bir <B>startupalert</b> yalnızca <B>mon</b> sunucusu yürütülmeye başladığında çağrılır. <P><DT> <B>zaman aşımından</b> <I>sonra</i> <DD> <B>Upalertafter</b> parametresi, <B>aralık</b> parametresinin (&quot;30s&quot;, &quot;1m&quot; vb.) <B>Sözdizimini izleyen</b> ve bir <B>upalert&#39;in</b> tetiklenmesini kontrol eden bir <B>dize olarak belirtilir</b> . Bir hizmet, bu seçeneğin değerinden daha yüksek veya bu değere eşit bir süre kaldıktan sonra geri gelirse, bir <B>yükseltme</b> çağrılır. &quot;Blipsler&quot; (kısa kesintiler) nedeniyle yukarı yönlü öğelerin çağrılmasını önlemek için bu seçeneği kullanın. <P>